var Harmony=Class.create({initialize:function(a,b){this.menu=$(a),this.initOptions(b),this.behave()},initOptions:function(a){this.options={menuClassName:"dropdown",activeClassName:"selected",behavior:"slide",behaviorDuration:.5},Object.extend(this.options,a||{})},behave:function(){this.menu.childElements().each(function(a){a.down("ul").setStyle({display:"none"}),a.down("a").observe("click",function(a){Event.stop(a),this.selectedA=a.element(),this.selectedUL=a.element().next("ul"),this.uncollapseCurrentActive()}.bind(this))}.bind(this))},colapseLastActive:function(){switch(this.options.behaviour){case"slide":default:Effect.SlideUp(this.selectedUL,{duration:.5})}this.selectedA.removeClassName(this.options.activeClassName)},uncollapseCurrentActive:function(){if(this.selectedA.hasClassName(this.options.activeClassName))return void this.colapseLastActive();switch(this.options.behaviour){case"slide":default:Effect.SlideDown(this.selectedUL,{duration:this.options.behaviorDuration})}this.selectedA.addClassName(this.options.activeClassName)}});